<div class="card-info" *ngIf="!loading">
  <p>El correo es: master&#64;lemoncode.net y la contraseña: 12345678</p>
</div>

<form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()" *ngIf="!loading">
  <h1>Iniciar Sesión</h1>

  <div class="form-group">
    <label for="username">Email</label>
    <input
      id="username"
      type="email"
      formControlName="username"
      [class.ng-invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
    />
    <div
      class="error-message"
      *ngIf="loginForm.get('username')?.errors?.['required'] && loginForm.get('username')?.touched"
    >
      El email es obligatorio.
    </div>
    <div
      class="error-message"
      *ngIf="loginForm.get('username')?.errors?.['email'] && loginForm.get('username')?.touched"
    >
      Introduce un email válido.
    </div>
  </div>

  <div class="form-group">
    <label for="password">Contraseña</label>
    <input
      id="password"
      type="password"
      formControlName="password"
      [class.ng-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
    />
    <div
      class="error-message"
      *ngIf="loginForm.get('password')?.errors?.['required'] && loginForm.get('password')?.touched"
    >
      La contraseña es obligatoria.
    </div>
    <div
      class="error-message"
      *ngIf="loginForm.get('password')?.errors?.['minlength'] && loginForm.get('password')?.touched"
    >
      La contraseña debe tener al menos 8 caracteres.
    </div>
  </div>

  <button type="submit" [disabled]="loginForm.invalid || loading">Iniciar sesión</button>
</form>

<div *ngIf="loading" class="loading-indicator">
  <iframe
    src="https://giphy.com/embed/3oEjI6SIIHBdRxXI40"
    width="100"
    height="100"
    frameBorder="0"
    class="giphy-embed"
    allowFullScreen
  ></iframe>
</div>
